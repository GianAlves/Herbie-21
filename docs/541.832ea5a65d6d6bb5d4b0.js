"use strict";(self.webpackChunkherbie21=self.webpackChunkherbie21||[]).push([[541],{2541:(Q,b,n)=>{n.r(b),n.d(b,{CombustivelModule:()=>I});var c=n(8583),i=n(665),C=n(8239),A=n(6738),t=n(639),m=n(5528),f=n(7371),h=n(8424),M=n(2886),O=n(9077);function F(e,l){1&e&&t._UZ(0,"app-button-plus",6),2&e&&t.Q6J("rota","/combustivel/cadastra")}function x(e,l){if(1&e&&t._UZ(0,"app-datatable",7),2&e){const o=t.oxw();t.Q6J("columns",o.columns)("data",o.data)}}let U=(()=>{class e{constructor(o,a){this.route=o,this.combustivelService=a,this.title="",this.columns=[],this.data=[],this.loading=!1,this.tiposCombustiveis=[{name:"Comum",value:"gasolina_comum"},{name:"Aditivada",value:"gasolina_aditivada"},{name:"Etanol",value:"etanol"},{name:"GNV",value:"gnv"},{name:"Diesel",value:"diesel"}],this.title=o.snapshot.data.title}ngOnInit(){var o=this;return(0,C.Z)(function*(){o.loading=!0,o.columns=[{title:"Tipo",data:"gas_type"},{title:"Volume",data:"volume"},{title:"Data",data:"date"},{title:"Pre\xe7o",data:"price"}],yield o.buscaDados(),setTimeout(()=>{o.loading=!1},500)})()}buscaDados(){var o=this;return(0,C.Z)(function*(){o.data=[],o.combustivelService.read_all().subscribe(a=>{a.forEach(s=>{let r={gas_type:o.validaPosicao(s.gas_type),volume:s.volume,date:o.formataData(s.date),price:s.price};o.data.push(r)})})})()}formataData(o){return A(o).format("DD/MM/YYYY")}validaPosicao(o){return this.tiposCombustiveis.filter(s=>s.value==o)[0].name}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(m.gz),t.Y36(f.y))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-visualiza-combustivel"]],decls:8,vars:4,consts:[[1,"titulo"],[1,"linha"],[3,"rota",4,"ngIf"],[1,"mb-4"],["class","mt-2",3,"columns","data",4,"ngIf"],[3,"loading"],[3,"rota"],[1,"mt-2",3,"columns","data"]],template:function(o,a){1&o&&(t.TgZ(0,"header"),t.TgZ(1,"h2",0),t._uU(2),t.qZA(),t._UZ(3,"hr",1),t.qZA(),t.YNc(4,F,1,1,"app-button-plus",2),t.TgZ(5,"div",3),t.YNc(6,x,1,2,"app-datatable",4),t.qZA(),t._UZ(7,"app-loading",5)),2&o&&(t.xp6(2),t.Oqu(a.title),t.xp6(2),t.Q6J("ngIf",!a.loading),t.xp6(2),t.Q6J("ngIf",a.data.length>0||!a.loading),t.xp6(1),t.Q6J("loading",a.loading))},directives:[c.O5,h.N,M.$,O.n],styles:[".titulo[_ngcontent-%COMP%]{font-size:1.2rem;color:#eee;text-align:center;margin-top:1rem}"]}),e})();var q=n(9743);function z(e,l){if(1&e&&(t.TgZ(0,"option",17),t._uU(1),t.qZA()),2&e){const o=l.$implicit;t.Q6J("value",o.value),t.xp6(1),t.Oqu(o.name)}}function P(e,l){if(1&e){const o=t.EpF();t.TgZ(0,"div",4),t.TgZ(1,"form",5),t.NdJ("ngSubmit",function(){return t.CHM(o),t.oxw().submit()}),t.TgZ(2,"div",6),t.TgZ(3,"label",7),t._uU(4,"Data de Reabastecimento:"),t.qZA(),t._UZ(5,"input",8),t.qZA(),t.TgZ(6,"div",6),t.TgZ(7,"label",7),t._uU(8,"Quilometragem:"),t.qZA(),t._UZ(9,"input",9),t.qZA(),t.TgZ(10,"div",6),t.TgZ(11,"label",7),t._uU(12,"Pre\xe7o do Combust\xedvel:"),t.qZA(),t._UZ(13,"input",10),t.qZA(),t.TgZ(14,"div",6),t.TgZ(15,"label",7),t._uU(16,"Volume:"),t.qZA(),t._UZ(17,"input",11),t.qZA(),t.TgZ(18,"div",6),t.TgZ(19,"label",7),t._uU(20,"Tipo da Combust\xedvel:"),t.qZA(),t.TgZ(21,"select",12),t.YNc(22,z,2,2,"option",13),t.qZA(),t.qZA(),t.TgZ(23,"div",6),t.TgZ(24,"label",7),t._uU(25,"Observa\xe7\xf5es: "),t.qZA(),t._UZ(26,"textarea",14),t.qZA(),t.TgZ(27,"div",15),t.TgZ(28,"button",16),t._uU(29,"Cadastrar"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const o=t.oxw();t.xp6(1),t.Q6J("formGroup",o.cadastraCombustivelForm),t.xp6(21),t.Q6J("ngForOf",o.tiposCombustiveis),t.xp6(6),t.Q6J("disabled",o.cadastraCombustivelForm.invalid)}}const J=[{path:"cadastra",component:(()=>{class e{constructor(o,a,s,r,d){this.fb=o,this.route=a,this.combustivelService=s,this.kmService=r,this.router=d,this.title="",this.loading=!1,this.tiposCombustiveis=[{name:"Comum",value:"gasolina_comum"},{name:"Aditivada",value:"gasolina_aditivada"},{name:"Etanol",value:"etanol"},{name:"GNV",value:"gnv"},{name:"Diesel",value:"diesel"}],this.title=a.snapshot.data.title}ngOnInit(){this.loading=!0,this.initForm(),setTimeout(()=>{this.loading=!1},500)}initForm(){this.cadastraCombustivelForm=this.fb.group({gas_type:["",[i.kI.required]],km:["",[i.kI.required]],date:["",[i.kI.required]],price:["",[i.kI.required]],volume:["",[i.kI.required]],observation:[""]})}submit(){var o,a,s,r,d,v,p,g;this.loading=!0;const Z={gas_type:null===(o=this.cadastraCombustivelForm.get("gas_type"))||void 0===o?void 0:o.value,date:null===(a=this.cadastraCombustivelForm.get("date"))||void 0===a?void 0:a.value,price:null===(s=this.cadastraCombustivelForm.get("price"))||void 0===s?void 0:s.value,volume:null===(r=this.cadastraCombustivelForm.get("volume"))||void 0===r?void 0:r.value,observation:null===(d=this.cadastraCombustivelForm.get("observation"))||void 0===d?void 0:d.value};console.log(Z);const _={km:null===(v=this.cadastraCombustivelForm.get("km"))||void 0===v?void 0:v.value,date:null===(p=this.cadastraCombustivelForm.get("date"))||void 0===p?void 0:p.value,observation:null===(g=this.cadastraCombustivelForm.get("observation"))||void 0===g?void 0:g.value};console.log(_);let T=!1,y=!1;this.kmService.create(_).subscribe(u=>{console.log(u),T=!0},u=>{console.log(u)}),this.combustivelService.create(Z).subscribe(u=>{console.log(u),y=!0},u=>{console.log(u)}),setTimeout(()=>{T&&y&&this.router.navigate(["home/combustivel/visualiza"]),this.loading=!1},500)}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(i.qu),t.Y36(m.gz),t.Y36(f.y),t.Y36(q.I),t.Y36(m.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cadastra-combustivel"]],decls:6,vars:3,consts:[[1,"titulo"],[1,"linha"],["class","pt-3 mb-4 container",4,"ngIf"],[3,"loading"],[1,"pt-3","mb-4","container"],["id","formulario_cadastro_combustivel",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"label-cad-pneu"],["type","date","formControlName","date",1,"form-control","form-control-lg"],["type","number","formControlName","km",1,"form-control","form-control-lg"],["type","number","min","1","step","any","formControlName","price",1,"form-control","form-control-lg"],["type","number","min","1","step","any","formControlName","volume",1,"form-control","form-control-lg"],["formControlName","gas_type"],[3,"value",4,"ngFor","ngForOf"],["id","observacoes","rows","3","formControlName","observation",1,"form-control"],[1,"col","text-center"],["type","submit",1,"btn","btn-primary","mb-3",3,"disabled"],[3,"value"]],template:function(o,a){1&o&&(t.TgZ(0,"header"),t.TgZ(1,"h2",0),t._uU(2),t.qZA(),t._UZ(3,"hr",1),t.qZA(),t.YNc(4,P,30,3,"div",2),t._UZ(5,"app-loading",3)),2&o&&(t.xp6(2),t.Oqu(a.title),t.xp6(2),t.Q6J("ngIf",!a.loading),t.xp6(1),t.Q6J("loading",a.loading))},directives:[c.O5,h.N,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,i.wV,i.qQ,i.EJ,c.sg,i.YN,i.Kr],styles:[".titulo[_ngcontent-%COMP%]{font-size:1.2rem;color:#eee;text-align:center;margin-top:1rem}#formulario_login[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{padding:10px}#formulario_login[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{padding:10px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{color:#495057}label.label-cad-pneu[_ngcontent-%COMP%]{color:#fff}.btn-primary[_ngcontent-%COMP%]{color:#fff;background-color:#656565;border-color:#656565}[_ngcontent-%COMP%]::placeholder{color:#999;font-size:1rem}input[type=date][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]{font-size:1rem}.linha[_ngcontent-%COMP%]{background-color:#eee;width:10px}select[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px}"]}),e})(),data:{title:"Cadastro de combust\xedvel"}},{path:"visualiza",component:U,data:{title:"Visualiza\xe7\xe3o do combust\xedvel"}}];let Y=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[m.Bz.forChild(J)],m.Bz]}),e})();var N=n(5474);let I=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[c.ez,i.u5,i.UX,Y,N.m]]}),e})()}}]);